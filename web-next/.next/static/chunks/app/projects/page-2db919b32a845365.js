(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{67684:(e,r,s)=>{Promise.resolve().then(s.bind(s,97260))},67396:(e,r,s)=>{"use strict";s.d(r,{default:()=>a.a});var t=s(44839),a=s.n(t)},97260:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var t=s(95155),a=s(39556),d=s(14586),n=s(22130),l=s(67396);function i(){let e=(0,d.L)(),{data:r=[],isLoading:s}=(0,a.I)({queryKey:["projects"],queryFn:async()=>{let{data:r}=await e.from("projects").select("id, name, value, main_job_site_id, job_sites!projects_main_job_site_id_fkey(name)");return r||[]}});return(0,t.jsxs)("main",{className:"p-6 space-y-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Projects"}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{children:"All Projects"})}),(0,t.jsx)(n.Wu,{children:s?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsx)("div",{className:"space-y-2",children:r.map(e=>{var r;return(0,t.jsxs)("div",{className:"flex items-center justify-between border-b py-2",children:[(0,t.jsx)(l.default,{href:{pathname:"/projects/[id]",query:{id:e.id}},className:"underline decoration-dotted",children:e.name}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:(null===(r=e.job_sites)||void 0===r?void 0:r.name)||"No site"})]},e.id)})})})]})]})}},22130:(e,r,s)=>{"use strict";s.d(r,{Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>l});var t=s(95155),a=s(12115),d=s(21567);let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("h3",{ref:r,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});i.displayName="CardTitle",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("p",{ref:r,className:(0,d.cn)("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},14586:(e,r,s)=>{"use strict";s.d(r,{L:()=>a});var t=s(51106);let a=()=>{let e="http://localhost";if(!e)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY");return(0,t.UU)(e,"dev")}},21567:(e,r,s)=>{"use strict";s.d(r,{cn:()=>d});var t=s(43463),a=s(69795);function d(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[106,181,527,556,839,441,517,358],()=>r(67684)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[474],{62239:(e,r,s)=>{Promise.resolve().then(s.bind(s,14317))},14317:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d});var t=s(95155),a=s(12115),n=s(39556),l=s(14586),i=s(22130);function d(){let e=(0,l.L)(),[r,s]=(0,a.useState)({unionStatus:[]}),{data:d=[],isLoading:c,refetch:o}=(0,n.I)({queryKey:["workers",r],queryFn:async()=>{let s=e.from("workers").select("id, first_name, surname, email, mobile_phone, union_membership_status, worker_placements(job_sites(name))");r.unionStatus.length>0&&(s=s.in("union_membership_status",r.unionStatus));let{data:t}=await s;return null!=t?t:[]}});return(0,t.jsxs)("main",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Workers"})}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"All Workers"})}),(0,t.jsx)(i.Wu,{children:c?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between border-b py-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium",children:[e.first_name," ",e.surname]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.email||""," ",e.mobile_phone?"\xb7 ".concat(e.mobile_phone):""]})]}),(0,t.jsx)("div",{className:"text-sm",children:e.union_membership_status||""})]},e.id))})})]})]})}},22130:(e,r,s)=>{"use strict";s.d(r,{Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>i});var t=s(95155),a=s(12115),n=s(21567);let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},14586:(e,r,s)=>{"use strict";s.d(r,{L:()=>a});var t=s(51106);let a=()=>{let e="http://localhost";if(!e)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY");return(0,t.UU)(e,"dev")}},21567:(e,r,s)=>{"use strict";s.d(r,{cn:()=>n});var t=s(43463),a=s(69795);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[106,181,527,556,441,517,358],()=>r(62239)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{57069:(e,t,r)=>{Promise.resolve().then(r.bind(r,64503))},64503:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>M,dynamic:()=>k});var s=r(95155),a=r(12115),n=r(76046),l=r(39556),i=r(14586),o=r(65564),d=r(22130),c=r(73312),m=r(98986),u=r(37528),p=r(25121),f=r(31027),h=r(21567);let x=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),y=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,h.cn)(x({variant:a}),r),...n})});y.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,h.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,h.cn)("text-sm [&_p]:leading-relaxed",r),...a})});g.displayName="AlertDescription";var v=r(67401);let b=(0,v.A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),j=(0,v.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),N=(0,v.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),w=(0,v.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function _(e){let{csvData:t,selectedEmployer:r,onImportComplete:n,onBack:l}=e,m=(0,i.L)(),[u,f]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1),[v,_]=(0,a.useState)([]),[k,S]=(0,a.useState)(!1),[M,C]=(0,a.useState)([]),[E,A]=(0,a.useState)([]),{toast:R}=(0,o.dj)();(0,a.useEffect)(()=>{r||I(),T()},[r]);let T=async()=>{try{let{data:e,error:t}=await m.from("organisers").select("id, first_name, last_name");if(t)throw t;A(e||[])}catch(e){console.error("Error loading organisers:",e)}},I=async()=>{try{let{data:e,error:t}=await m.from("employers").select("id, name");if(t)throw t;C(e||[])}catch(e){console.error("Error loading employers:",e)}},P=e=>e,U=(e,t)=>{let r=t.find(t=>t.name.toLowerCase()===(e||"").toLowerCase());if(r)return{id:r.id,name:r.name,confidence:"exact",distance:0}},D=(e,t)=>{let r=(e||"").toLowerCase();return t.find(e=>"".concat(e.first_name," ").concat(e.last_name).toLowerCase()===r)},F=async()=>{x(!0);try{let e=t.map(e=>{let t={...e};return!r||t.CompanyName||t["Company Name"]||t.company_name||(t.company_name=r.name),t.MemberFirstName||t["Member First Name"]||t.first_name||(t.first_name=t.FirstName||t["First Name"]||t.GivenName||t["Given Name"]||t.given_name||t.given),t.MemberSurname||t["Member Surname"]||t.surname||(t.surname=t.LastName||t["Last Name"]||t.FamilyName||t["Family Name"]||t.last_name),t.Mobile||t.mobile||t.mobile_phone||(t.mobile_phone=t["Mobile Phone"]||t.Phone||t.PhoneNumber||t["Phone Number"]||t["Contact Phone"]),t.MembershipStatus&&!t.membership_status&&(t.membership_status=t.MembershipStatus),t.Comments&&!t.comments&&(t.comments=t.Comments),t}),s=P(e);if(r){let e=s.map(e=>({...e,employerMatch:{id:r.id,name:r.name,confidence:"exact",distance:0},needsNewEmployer:!1}));_(e),S(!0),R({title:"Data processed",description:"".concat(s.length," workers processed and will be assigned to ").concat(r.name,".")})}else{let e=s.map(e=>{let t;let r=U(e.company_name,M),s=!1;return e.organizer_full_name&&(s=!(t=D(e.organizer_full_name,E))),{...e,employerMatch:r,needsNewEmployer:!r,organiserMatch:t,needsNewOrganiser:s}});_(e),S(!0);let t=e.filter(e=>e.employerMatch).length,r=e.filter(e=>e.needsNewEmployer).length;R({title:"Data processed",description:"".concat(s.length," workers processed. ").concat(t," matched to existing employers, ").concat(r," need new employers.")})}}catch(e){R({title:"Processing failed",description:"Error processing worker data",variant:"destructive"})}finally{x(!1)}},L=async()=>{f(!0);let e={successful:0,failed:0,errors:[],duplicates:0,newEmployers:0},t=0;try{for(let r of v)try{var s,a;let n,l;if(r.needsNewEmployer){let{data:t,error:s}=await m.from("employers").insert({name:r.company_name,employer_type:"large_contractor"}).select("id").single();if(s)throw s;n=t.id,e.newEmployers++}else if(r.employerMatch)n=r.employerMatch.id;else throw Error("No employer match found");let{data:i}=await m.from("workers").select("id").eq("first_name",r.first_name).eq("surname",r.surname).maybeSingle();if(i){let{data:t,error:a}=await m.from("workers").update({mobile_phone:r.mobile_phone,email:null!==(s=r.email)&&void 0!==s?s:null,union_membership_status:r.union_membership_status,member_number:r.member_number}).eq("id",i.id).select("id").single();if(a)throw a;l=t.id,e.duplicates++}else{let{data:e,error:t}=await m.from("workers").insert({first_name:r.first_name,surname:r.surname,mobile_phone:r.mobile_phone,email:null!==(a=r.email)&&void 0!==a?a:null,union_membership_status:r.union_membership_status,member_number:r.member_number}).select("id").single();if(t)throw t;l=e.id}let{error:o}=await m.from("worker_placements").insert({worker_id:l,employer_id:n,start_date:new Date().toISOString().split("T")[0],employment_status:"casual"});if(o)throw o;t++,e.successful++}catch(s){e.failed++;let t=(null==s?void 0:s.message)||"Unknown error";e.errors.push("".concat(r.first_name," ").concat(r.surname,": ").concat(t))}e.failed>0?R({title:"Import completed with errors",description:"Imported ".concat(e.successful," workers, ").concat(e.duplicates," updated, ").concat(t," placements created. ").concat(e.failed," failed."),variant:"destructive"}):R({title:"Import completed",description:"Imported ".concat(e.successful," workers").concat(r?" to ".concat(r.name):"",". ").concat(e.duplicates," updated. ").concat(t," placements created.")}),n(e)}catch(e){R({title:"Import failed",description:e.message,variant:"destructive"})}finally{f(!1)}};if(!k)return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Process Worker Data"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:r?"Click below to process your worker data. All workers will be assigned to ".concat(r.name,"."):"Click below to process and preview your worker data. We'll automatically match workers to existing employers."}),r&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)(p.E,{variant:"secondary",className:"text-sm",children:[(0,s.jsx)(b,{className:"h-3 w-3 mr-1"}),"Assigning to: ",r.name]})}),(0,s.jsxs)(c.$,{onClick:F,size:"lg",disabled:h,children:[(0,s.jsx)(j,{className:"mr-2 h-5 w-5"}),h?"Processing...":"Process Data"]})]}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)(c.$,{variant:"outline",onClick:l,children:"Back to Mapping"})})]});let O=v.filter(e=>{var t;return(null===(t=e.employerMatch)||void 0===t?void 0:t.confidence)==="exact"}).length,B=v.filter(e=>{var t;return(null===(t=e.employerMatch)||void 0===t?void 0:t.confidence)==="high"}).length,z=v.filter(e=>{var t;return(null===(t=e.employerMatch)||void 0===t?void 0:t.confidence)==="medium"}).length,q=v.filter(e=>e.needsNewEmployer).length;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Worker Import Preview"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:r?"Review workers before importing to ".concat(r.name):"Review worker-employer matches before importing to the database"})]}),(0,s.jsxs)(p.E,{variant:"secondary",children:[v.length," workers ready"]})]}),r&&(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{children:(0,s.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(b,{className:"h-5 w-5"}),"Selected Company"]})}),(0,s.jsxs)(d.Wu,{children:[(0,s.jsx)(p.E,{variant:"default",className:"text-sm",children:r.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["All ",v.length," workers will be assigned to this company"]})]})]}),!r&&(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{children:(0,s.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(b,{className:"h-5 w-5"}),"Employer Matching Summary"]})}),(0,s.jsx)(d.Wu,{children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:O}),(0,s.jsx)("div",{className:"text-muted-foreground",children:"Exact Matches"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:B}),(0,s.jsx)("div",{className:"text-muted-foreground",children:"High Confidence"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:z}),(0,s.jsx)("div",{className:"text-muted-foreground",children:"Medium Confidence"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:q}),(0,s.jsx)("div",{className:"text-muted-foreground",children:"New Employers"})]})]})})]}),0===v.length?(0,s.jsx)(y,{children:(0,s.jsx)(g,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"No valid worker data found. Please check your CSV format and try again."})]})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-4",children:v.slice(0,10).map((e,t)=>(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(d.ZB,{className:"text-base",children:[e.first_name," ",e.surname]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(p.E,{variant:"outline",children:String(e.union_membership_status||"").replace("_"," ")}),r?(0,s.jsxs)(p.E,{variant:"default",children:["Assigned to ",r.name]}):(0,s.jsxs)(s.Fragment,{children:[e.employerMatch&&(0,s.jsxs)(p.E,{variant:"exact"===e.employerMatch.confidence?"default":"high"===e.employerMatch.confidence?"secondary":"outline",children:[e.employerMatch.confidence," match"]}),e.needsNewEmployer&&(0,s.jsx)(p.E,{variant:"destructive",children:"New Employer"})]})]})]})}),(0,s.jsx)(d.Wu,{className:"pt-0",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[!r&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Company:"})," ",e.company_name]}),e.employerMatch&&!r&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Matched to:"})," ",e.employerMatch.name]}),e.mobile_phone&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Mobile:"})," ",e.mobile_phone]}),e.member_number&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Member #:"})," ",e.member_number]})]})})]},t))}),v.length>10&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground text-center",children:["Showing first 10 of ",v.length," workers"]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(c.$,{variant:"outline",onClick:l,children:"Back to Mapping"}),(0,s.jsxs)(c.$,{onClick:L,disabled:u,className:"ml-auto",children:[(0,s.jsx)(w,{className:"mr-2 h-4 w-4"}),u?"Importing...":"Import ".concat(v.length," Workers")]})]})]})]})}let k="force-dynamic";function S(){let e=(0,i.L)(),{toast:t}=(0,o.dj)(),r=(0,n.useSearchParams)(),p=(0,n.useRouter)(),[f,h]=(0,a.useState)(null),[x,y]=(0,a.useState)(r.get("table")||""),[g,v]=(0,a.useState)(null),[b,j]=(0,a.useState)([]),N=r.get("employerId"),w=r.get("employerName"),{data:k}=(0,l.I)({queryKey:["employers"],queryFn:async()=>{let{data:t}=await e.from("employers").select("id, name").order("name");return t||[]}});(0,a.useEffect)(()=>{N&&w&&!f&&(h({id:N,name:decodeURIComponent(w)}),y("workers"))},[N,w,f]),(0,a.useEffect)(()=>{r.get("table")||h(null)},[x]);let S=async e=>{v((await e.text()).split(/\r?\n/).filter(Boolean).map(e=>{let t=e.split(",");return{first_name:t[0]||"",surname:t[1]||"",mobile_phone:t[2]||"",email:t[3]||"",company_name:t[4]||""}})),j(["first_name","surname","mobile_phone","email","company_name"])};return(0,s.jsxs)("main",{className:"p-6 space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Upload"})}),(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{children:(0,s.jsx)(d.ZB,{children:"Upload CSV"})}),(0,s.jsxs)(d.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,s.jsxs)("div",{className:"grid gap-2 w-60",children:[(0,s.jsx)(m.J,{children:"Table"}),(0,s.jsxs)(u.l6,{value:x,onValueChange:y,children:[(0,s.jsx)(u.bq,{children:(0,s.jsx)(u.yv,{placeholder:"Select a table"})}),(0,s.jsx)(u.gC,{children:(0,s.jsx)(u.eb,{value:"workers",children:"Workers"})})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"file",accept:".csv",onChange:e=>e.target.files&&S(e.target.files[0])})}),(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsx)(c.$,{variant:"outline",onClick:()=>{v(null),h(N?f:null)},children:"Reset"})})]}),"workers"===x&&(0,s.jsxs)("div",{className:"grid gap-2 w-96",children:[(0,s.jsx)(m.J,{htmlFor:"employer-select",children:"Company"}),(0,s.jsxs)(u.l6,{value:(null==f?void 0:f.id)||"",onValueChange:e=>{let t=(k||[]).find(t=>t.id===e);t&&h(t)},children:[(0,s.jsx)(u.bq,{id:"employer-select",children:(0,s.jsx)(u.yv,{placeholder:"Select employer"})}),(0,s.jsx)(u.gC,{children:(k||[]).map(e=>(0,s.jsx)(u.eb,{value:e.id,children:e.name},e.id))})]})]})]})]}),"workers"===x&&g&&b.length>0&&(0,s.jsx)(_,{csvData:g,selectedEmployer:f||void 0,onImportComplete:()=>{t({title:"Upload complete"}),p.push("/workers")},onBack:()=>v(null)})]})}function M(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"p-6",children:"Loading..."}),children:(0,s.jsx)(S,{})})}},25121:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(95155);r(12115);var a=r(31027),n=r(21567);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},73312:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(95155),a=r(12115),n=r(12317),l=r(31027),i=r(21567);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,s.jsx)(m,{className:(0,i.cn)(o({variant:a,size:l,className:r})),ref:t,...c})});d.displayName="Button"},22130:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>i});var s=r(95155),a=r(12115),n=r(21567);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},98986:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(95155),a=r(12115),n=r(46195),l=r(31027),i=r(21567);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,i.cn)(o(),r),...a})});d.displayName=n.b.displayName},37528:(e,t,r)=>{"use strict";r.d(t,{bq:()=>u,eb:()=>x,gC:()=>h,l6:()=>c,yv:()=>m});var s=r(95155),a=r(12115),n=r(69957),l=r(51719),i=r(91902),o=r(98867),d=r(21567);let c=n.bL;n.YJ;let m=n.WT,u=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(n.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[a,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.l9.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=n.PP.displayName;let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});f.displayName=n.wn.displayName;let h=a.forwardRef((e,t)=>{let{className:r,children:a,position:l="popper",...i}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...i,children:[(0,s.jsx)(p,{}),(0,s.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(f,{})]})})});h.displayName=n.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=n.JU.displayName;let x=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,s.jsxs)(n.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:a})]})});x.displayName=n.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=n.wv.displayName},65564:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var s=r(12115);let a=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>l(e.id)),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>e(d))}function m(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},14586:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var s=r(51106);let a=()=>{let e="http://localhost";if(!e)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY");return(0,s.UU)(e,"dev")}},21567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(43463),a=r(69795);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[106,181,527,556,294,311,441,517,358],()=>t(57069)),_N_E=e.O()}]);